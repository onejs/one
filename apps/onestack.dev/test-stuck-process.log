
========================================
Starting stuck process tests
========================================
[06:06:36] Working directory: /Users/n8/one/apps/onestack.dev
[06:06:36] Port: 8081
[06:06:36] Log file: test-stuck-process.log
[06:06:36] Cleaning up all related processes...
[06:06:38] Initial port check:
========================================
TEST: Yarn vs Node vs Bun signal comparison
========================================
[06:06:38] --- Testing YARN ---
[06:06:38] Cleaning up all related processes...
[06:06:40] Starting via yarn...
[06:06:40] Waiting for server to be ready on port 8081...
[06:06:43] Server ready after 2s
[06:06:43] Yarn process tree:
[06:06:43] Sending SIGINT to yarn PID 88371...
[06:06:46] \033[0;31mYARN: Port STUCK\033[0m
[06:06:46] Looking for related processes...
[06:06:46] Processes on port 8081:
[06:06:47] Node processes in /Users/n8/one/apps/onestack.dev:
[06:06:47] Vite/One dev processes:
[06:06:47] Cleaning up all related processes...
[06:06:50] --- Testing NODE directly ---
[06:06:50] Starting via node...
[06:06:50] Waiting for server to be ready on port 8081...
[06:06:52] Server ready after 1s
[06:06:52] Node process tree:
[06:06:52] Sending SIGINT to node PID 89266...
[06:06:55] \033[0;32mNODE: Port freed correctly\033[0m
[06:06:55] Cleaning up all related processes...
[06:06:59] --- Testing BUN ---
[06:06:59] Starting via bun...
[06:06:59] Waiting for server to be ready on port 8081...
[06:07:00] Server ready after 1s
[06:07:00] Bun process tree:
[06:07:00] Sending SIGINT to bun PID 89419...
[06:07:04] \033[0;32mBUN: Port freed correctly\033[0m
[06:07:04] Cleaning up all related processes...
========================================
Tests complete
========================================
[06:07:05] Check test-stuck-process.log for full output
